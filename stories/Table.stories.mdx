import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { Table, TableNodes } from '../src';
import { useState } from 'react';

<Meta title="Table" component={Table} />

# 表格 Table

### 简单使用

<Preview>
  <Story name="Table">
    {() => {
      const columns = [
        { key: 'name', title: "Name", onRowRender: (i) => i.name },
        { key: 'age', title: "Age", onRowRender: (i) => i.age },
        { key: 'gender', title: "Gender", onRowRender: (i) => i.gender },
        { key: 'mobile', title: "Mobile", onRowRender: (i) => i.mobile },
        { key: 'email', title: "Email", onRowRender: (i) => i.email },
        { key: 'profession', title: "Profession", onRowRender: (i) => i.profession },
      ]
      const rows = [
        { id: 'asdvciu', name: "Bobby P. Morton", age: "63", gender: "male", mobile: "785-481-2375", email: "morton@example.com", profession: "Doctor" },
        { id: 'aserghd', name: "Levi R. Oglesby", age: "35", gender: "female", mobile: "631-285-1780", email: "oglesby@example.com", profession: "Police" },
        { id: 'fgher4t', name: "John S. Cassidy", age: "19", gender: "male", mobile: "719-328-5475", email: "cassidy@example.com", profession: "Student" },
      ]
      const onRowId = (row) => row.id
      return (
        <Table
          columns={columns}
          rows={rows}
          onRowId={onRowId}
        ></Table>
      )
    }}
  </Story>
</Preview>

### 多选表格行

<Preview>
  <Story name="Table with selection">
    {() => {
      const columns = [
        { key: 'name', title: "Name", onRowRender: (i) => i.name },
        { key: 'age', title: "Age", onRowRender: (i) => i.age },
        { key: 'gender', title: "Gender", onRowRender: (i) => i.gender },
        { key: 'mobile', title: "Mobile", onRowRender: (i) => i.mobile },
        { key: 'email', title: "Email", onRowRender: (i) => i.email },
        { key: 'profession', title: "Profession", onRowRender: (i) => i.profession },
      ]
      const rows = [
        { id: 'asdvciu', name: "Bobby P. Morton", age: "63", gender: "male", mobile: "785-481-2375", email: "morton@example.com", profession: "Doctor" },
        { id: 'aserghd', name: "Levi R. Oglesby", age: "35", gender: "female", mobile: "631-285-1780", email: "oglesby@example.com", profession: "Police" },
        { id: 'fgher4t', name: "John S. Cassidy", age: "19", gender: "male", mobile: "719-328-5475", email: "cassidy@example.com", profession: "Student" },
      ]
      const onRowId = (row) => row.id
      const [selectedIds, setSelectedIds] = useState([])
      return (
        <Table
          columns={columns}
          rows={rows}
          onRowId={onRowId}
          selectedRowIds={selectedIds}
          onSelected={(ids) => { setSelectedIds(ids) }}
        ></Table>
      )
    }}
  </Story>
</Preview>

### 表头分组

<Preview>
  <Story name="Table with grouping column">
    {() => {
      const rows = [
        { id: 'asdvciu', name: "Bobby P. Morton", age: "63", gender: "male", mobile: "785-481-2375", email: "morton@example.com", profession: "Doctor" },
        { id: 'aserghd', name: "Levi R. Oglesby", age: "35", gender: "female", mobile: "631-285-1780", email: "oglesby@example.com", profession: "Police" },
        { id: 'fgher4t', name: "John S. Cassidy", age: "19", gender: "male", mobile: "719-328-5475", email: "cassidy@example.com", profession: "Student" },
      ]
      const columns = [{
        key: 'person',
        title: 'Person',
        children: [{
          key: 'info',
          title: 'Info',
          children: [{
            key: 'name',
            title: 'Name',
            onRowRender: (i) => i.name,
          }, {
            key: 'age',
            title: 'Age',
            onRowRender: (i) => i.age,
          }, {
            key: 'gender',
            title: 'Gender',
            onRowRender: (i) => i.gender,
          }]
        }, {
          key: 'contact',
          title: 'Contact',
          children: [{
            key: 'mobile',
            title: 'Mobile',
            onRowRender: (i) => i.mobile,
          }, {
            key: 'email',
            title: 'Email',
            onRowRender: (i) => i.email,
          }]
        }]
      }, {
        key: 'profession',
        title: 'Profession',
        onRowRender: (i) => i.profession,
      }]
      const onRowId = (row) => row.id
      return (
        <Table
          columns={columns}
          rows={rows}
          onRowId={onRowId}
        ></Table>
      )
    }}
  </Story>
</Preview>

### 空表格空状态视图

<Preview>
  <Story name="Table with empty data">
    {() => {
      const columns = [
        { key: 'name', title: "Name", onRowRender: (i) => i.name },
        { key: 'age', title: "Age", onRowRender: (i) => i.age },
        { key: 'gender', title: "Gender", onRowRender: (i) => i.gender },
        { key: 'mobile', title: "Mobile", onRowRender: (i) => i.mobile },
        { key: 'email', title: "Email", onRowRender: (i) => i.email },
        { key: 'profession', title: "Profession", onRowRender: (i) => i.profession },
      ]
      const rows = []
      const onRowId = (row) => row.id
      return (
        <Table
          columns={columns}
          rows={rows}
          onRowId={onRowId}
        ></Table>
      )
    }}
  </Story>
</Preview>

### 隐藏表格表头

<Preview>
  <Story name="Table hide header">
    {() => {
      const columns = [
        { key: 'name', title: "Name", onRowRender: (i) => i.name },
        { key: 'age', title: "Age", onRowRender: (i) => i.age },
        { key: 'gender', title: "Gender", onRowRender: (i) => i.gender },
        { key: 'mobile', title: "Mobile", onRowRender: (i) => i.mobile },
        { key: 'email', title: "Email", onRowRender: (i) => i.email },
        { key: 'profession', title: "Profession", onRowRender: (i) => i.profession },
      ]
      const rows = [
        { id: 'asdvciu', name: "Bobby P. Morton", age: "63", gender: "male", mobile: "785-481-2375", email: "morton@example.com", profession: "Doctor" },
        { id: 'aserghd', name: "Levi R. Oglesby", age: "35", gender: "female", mobile: "631-285-1780", email: "oglesby@example.com", profession: "Police" },
        { id: 'fgher4t', name: "John S. Cassidy", age: "19", gender: "male", mobile: "719-328-5475", email: "cassidy@example.com", profession: "Student" },
      ]
      const onRowId = (row) => row.id
      return (
        <Table
          columns={columns}
          rows={rows}
          onRowId={onRowId}
          hideHeader
        ></Table>
      )
    }}
  </Story>
</Preview>

### Props

<Props components={{ Table }} />