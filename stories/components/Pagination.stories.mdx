import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { Pagination } from '../../src';
import { useState, useMemo } from 'react';
import { range } from 'lodash-es';

<Meta title="组件/分页 Pagination" component={Pagination} />

# 分页 Pagination

### 简单使用

分页组件被分割成了很多个小的子组件，这样你可以很方便自由的选择需要显示哪些功能部件，以及控制这些功能部件的显示顺序。

<Canvas>
  <Story name="Pagination">
    {() => {
      const [pagination, setPagination] = useState({
        offset: 0,
        limit: 5,
        count: 163,
      })
      return (
        <div>
          <div className="my-4">
            <div>{JSON.stringify(pagination, null, 2)}</div>
          </div>
          <Pagination
            value={pagination}
            onChange={(value) => { setPagination(value) }}
          >
            <Pagination.PageSize pageSizeOptions={[10, 30, 50, 100, 200]} labelRender={(i)=>`${i}/Page`} />
            <Pagination.PagePrevButton />
            <Pagination.PageList />
            <Pagination.PageNextButton />
            <Pagination.PageJumper labelText="跳转至" />
            <Pagination.PageInfo />
          </Pagination>
        </div>
      )
    }}
  </Story>
</Canvas>

### 移动端布局

<Canvas>
  <Story name="Pagination with mobile layout">
    {() => {
      const [pagination, setPagination] = useState({
        offset: 0,
        limit: 5,
        count: 163,
      })
      return (
        <div>
          <div className="my-4">
            <div>{JSON.stringify(pagination, null, 2)}</div>
          </div>
          <Pagination
            value={pagination}
            onChange={(value) => { setPagination(value) }}
          >
            <Pagination.PagePrevButton />
            <Pagination.PageSelector />
            <Pagination.PageNextButton />
          </Pagination>
        </div>
      )
    }}
  </Story>
</Canvas>


### Props

<ArgsTable components={{
  Pagination: Pagination,
  PageInfo: Pagination.PageInfo,
  PageList: Pagination.PageList,
  PageJumper: Pagination.PageJumper,
  PageSize: Pagination.PageSize,
  PageSelector: Pagination.PageSelector,
  PagePrevButton: Pagination.PagePrevButton,
  PageNextButton: Pagination.PageNextButton,
}} />