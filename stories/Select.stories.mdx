import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { HTMLSelect, Select } from '../src';
import { useState } from 'react';

<Meta title="组件/选择器 Select" components={{ HTMLSelect, Select }} />

# 选择器 Select

HTML 选择器通常适用于移动端，而 Popover 选择器适用于电脑端。


## HTML 原生选择器 HTMLSelect


<Canvas>
  <Story name="HTMLSelect">
    {() => {
      const options = [
        { label: 'Cat', value: 'cat' },
        { label: 'Dog', value: 'dog' },
        { label: 'Parrot', value: 'parrot' },
      ]
      const [value, setValue] = useState('dog')
      return (
        <HTMLSelect options={options} value={value} onChange={(value) => { setValue(value) }}/>
      )
    }}
  </Story>
</Canvas>

## 选择器 Select

#### 简单使用

<Canvas>
  <Story name="Select">
    {() => {
      const options = [
        { key: 'cat', label: 'Cat', value: 'cat' },
        { key: 'dog', label: 'Dog', value: 'dog' },
        { key: 'parrot', label: 'Parrot', value: 'parrot' },
      ]
      const [value, setValue] = useState(null)
      return (
        <Select
          options={options}
          placeholder={'Select animal'}
          value={value}
          onChange={(value) => { console.log(value); setValue(value) }}
        />
      )
    }}
  </Story>
</Canvas>

#### 多选

<Canvas>
  <Story name="Multiple Select">
    {() => {
      const data = [
        { name: "Ptunium" },
        { name: "Plutonium" },
        { name: "Americium" },
        { name: "Curium" },
        { name: "Berkelium" },
        { name: "Californium" },
        { name: "Einsteinium" },
        { name: "Fermium" },
        { name: "Mendelevium" },
        { name: "Nobelium" },
        { name: "Lawrencium" },
        { name: "Rutherfordium" },
        { name: "Dubnium" },
        { name: "Seaborgium" },
        { name: "Bohrium" },
        { name: "Hassium" },
        { name: "Meitnerium" },
        { name: "Darmstadtium" },
        { name: "Roentgenium" },
        { name: "Copernicium" },
        { name: "Nihonium" },
        { name: "Flerovium" },
        { name: "Moscovium" },
        { name: "Livermorium" },
        { name: "Tennessine" },
        { name: "Oganesson" },
      ]
      const options = data.map((i) => ({ key: i.name, label: i.name, value: i.name }))
      const [value, setValue] = useState(null)
      return (
        <Select
          style={{ width: 240 }}
          options={options}
          placeholder={'Select ...'}
          multiple
          value={value}
          onChange={(value) => { console.log(value); setValue(value) }}
        />
      )
    }}
  </Story>
</Canvas>

#### 选项分组

<Canvas>
  <Story name="Select with option group">
    {() => {
      const sections = [{
        key: 'books',
        label: '书籍',
        options: [
          { key: 'b1', label: '愚者的片尾', value: '愚者的片尾' },
          { key: 'b2', label: '库特莉亚芙卡的排序', value: '库特莉亚芙卡的排序' },
          { key: 'b3', label: '两人距离的概算', value: '两人距离的概算' },
          { key: 'b4', label: '迟来的羽翼', value: '迟来的羽翼' },
        ]
      }, {
        key: 'movies',
        label: '电影',
        options: [
          { key: 'm1', label: '你的名字', value: '你的名字' },
          { key: 'm2', label: '天气之子', value: '天气之子' },
          { key: 'm3', label: '言叶之庭', value: '言叶之庭' },
          { key: 'm4', label: '千与千寻', value: '千与千寻' },
        ]
      }, {
        key: 'anime',
        label: '动漫',
        options: [
          { key: 'a1', label: '齐木楠雄的灾难', value: '齐木楠雄的灾难' },
          { key: 'a2', label: '浪客剑心', value: '浪客剑心' },
          { key: 'a3', label: '日常', value: '日常' },
          { key: 'a4', label: '凉宫春日的忧郁', value: '凉宫春日的忧郁' },
        ]
      }]
      const [value, setValue] = useState(null)
      return (
        <Select
          style={{ width: 240 }}
          sections={sections}
          placeholder={'Select ...'}
          value={value}
          onChange={(value) => { console.log(value); setValue(value) }}
        />
      )
    }}
  </Story>
</Canvas>

### 可搜索选项

当启用搜索时（即 `props.searchable`），只有当 `SelectOption.label` 传入字符串时，才会被搜索到。

<Canvas>
  <Story name="Select with search">
    {() => {
      const data = [
        { name: "Ptunium" },
        { name: "Plutonium" },
        { name: "Americium" },
        { name: "Curium" },
        { name: "Berkelium" },
        { name: "Californium" },
        { name: "Einsteinium" },
        { name: "Fermium" },
        { name: "Mendelevium" },
        { name: "Nobelium" },
        { name: "Lawrencium" },
        { name: "Rutherfordium" },
        { name: "Dubnium" },
        { name: "Seaborgium" },
        { name: "Bohrium" },
        { name: "Hassium" },
        { name: "Meitnerium" },
        { name: "Darmstadtium" },
        { name: "Roentgenium" },
        { name: "Copernicium" },
        { name: "Nihonium" },
        { name: "Flerovium" },
        { name: "Moscovium" },
        { name: "Livermorium" },
        { name: "Tennessine" },
        { name: "Oganesson" },
      ]
      const options = data.map((i) => ({ key: i.name, label: i.name, value: i.name }))
      const [value, setValue] = useState(null)
      return (
        <Select
          style={{ width: 340 }}
          options={options}
          placeholder={'Select ...'}
          multiple
          value={value}
          onChange={(value) => { console.log(value); setValue(value) }}
          searchable
        />
      )
    }}
  </Story>
</Canvas>


### Props

<ArgsTable components={{ HTMLSelect, Select }} />