import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { LoadingSpinner, LoadingCover, Table, Switch } from '../src';
import { useState } from 'react';

<Meta title="组件/加载 Loading" />

# 加载 Loading

异步操作时（比如网络获取数据）显示正在加载指示。

加载组件有两个，分别是 `LoadingSpinner` 和 `LoadingCover`。这两个组件用于不同粒度的加载显示。

### 加载指示器

<Canvas>
  <Story name="LoadingSpinner">
    <LoadingSpinner />
  </Story>
</Canvas>

### 加载区域

<Canvas>
  <Story name="LoadingCover">
    {() => {
      const [loading, switchLoading] = useState(true)
      const data = [
        { id: 'asdvciu', name: "Bobby P. Morton", age: "63", gender: "male", mobile: "785-481-2375", email: "morton@example.com", profession: "Doctor" },
        { id: 'aserghd', name: "Levi R. Oglesby", age: "35", gender: "female", mobile: "631-285-1780", email: "oglesby@example.com", profession: "Police" },
        { id: 'fgher4t', name: "John S. Cassidy", age: "19", gender: "male", mobile: "719-328-5475", email: "cassidy@example.com", profession: "Student" },
      ]
      const columns = [
        { key: 'name', title: "Name" },
        { key: 'age', title: "Age" },
        { key: 'gender', title: "Gender" },
        { key: 'mobile', title: "Mobile" },
        { key: 'email', title: "Email" },
        { key: 'profession', title: "Profession" },
      ]
      const rows = data.map((i) => {
        return {
          id: i.id,
          cells: [
            i.name,
            i.age,
            i.gender,
            i.mobile,
            i.email,
            i.profession,
          ],
        }
      })
      const onRowId = (row) => row.id
      return (
        <div>
          <Switch value={loading} onChange={(value) => switchLoading(value)} />
          <LoadingCover loading={loading} label={'loading...'}>
            <Table
              columns={columns}
              rows={rows}
              onRowId={onRowId}
            />
          </LoadingCover>
        </div>
      )
    }}
  </Story>
</Canvas>

### Props

<ArgsTable components={{ LoadingSpinner, LoadingCover }} />